name: 'Setup Node.js and Dependencies'
description: 'Sets up the Node.js environment, installs pnpm, and installs project dependencies.'
inputs:
  node-version:
    description: 'The Node.js version to use'
    required: false
    default: '22.x'
  pnpm-version:
    description: 'The pnpm version to use'
    required: false
    default: '10'
runs:
  using: 'composite'
  steps:
    # Node.js ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    - run: |
        echo "âš¡ï¸ Starting Node.js environment setup: using version ${{ inputs.node-version }}!"
      shell: bash
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: ${{ inputs.node-version }}
    - run: echo "âš¡ï¸ Node.js setup complete!"
      shell: bash
    # pnpm ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    - run: |
        echo "âœ¨ Starting pnpm setup: using version ${{ inputs.pnpm-version }}!"
      shell: bash
    - name: Setup pnpm
      uses: pnpm/action-setup@v2
      with:
        version: ${{ inputs.pnpm-version }}
    - run: echo "âœ¨ pnpm setup complete!"
      shell: bash
    # pnpm ã‚­ãƒ£ãƒƒã‚·ãƒ¥ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    - run: echo "ğŸ’¾ Starting pnpm store cache process!"
      shell: bash
    - name: Setup pnpm Cache
      uses: actions/cache@v3
      with:
        path: ~/.pnpm-store
        key: ${{ runner.os }}-pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}
    - run: echo "ğŸ’¾ pnpm store cache process succeeded!"
      shell: bash
    # ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    - run: echo "ğŸ“¦ Starting dependency installation! Enjoy the magic..."
      shell: bash
    - name: Install Dependencies
      run: pnpm install
      shell: bash
    - run: echo "ğŸ“¦ Dependency installation complete!"
      shell: bash
